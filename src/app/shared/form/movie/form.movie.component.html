<h2 mat-dialog-title  *ngIf="!isUpdateMode">Add Movie</h2>
<h2 mat-dialog-title  *ngIf="isUpdateMode">Update Movie</h2>

<mat-dialog-content *ngIf="!isUpdateMode">
  <form novalidate [formGroup]="formSearch">

    <table class="full-width" cellspacing="0">
      <tr>
        <td>
          <mat-form-field class="full-width">
            <input matInput placeholder="Film name" formControlName="search" required name="search"/>
            <mat-error *ngIf="formSearch.get('search').dirty && formSearch.get('search').hasError('required')">
              Film name in english is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </td>
      </tr>
    </table>

  </form>
</mat-dialog-content>
<mat-dialog-actions align="end"  *ngIf="!isUpdateMode">
  <button mat-button type="button" (click)="cancel()">Cancel</button>
  <button mat-button color="primary" type="submit" (click)="submitSearch(formSearch.value)" [disabled]="formSearch.invalid">Search</button>
</mat-dialog-actions>


<mat-dialog-content>

  <form novalidate [formGroup]="form">

    <p *ngIf="isUpdateMode">
      <span style="width:100%">ID (disabled)</span><br/>
      <span style="width:100%">{{model.id}}</span>
    </p>


    <table class="full-width" cellspacing="0">
      <tr>
        <td class="align-left">
          <img width="112" src="{{ model.Poster }}"/>
        </td>
        <td>
          <mat-form-field class="full-width">
            <input matInput placeholder="Title" formControlName="Title" required name="Title"/>
            <mat-error *ngIf="form.get('Title').dirty && form.get('Title').hasError('required')">
              Title is <strong>required</strong>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Year" formControlName="Year" required name="Year"/>
            <mat-error *ngIf="form.get('Year').dirty && form.get('Year').hasError('required')">
              Released is <strong>required</strong>
            </mat-error>
            <mat-error *ngIf="form.get('Year').dirty && form.get('Year').hasError('pattern')">
              Released number must be <strong>5 digits</strong>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Genre" formControlName="Genre" required name="Genre"/>
            <mat-error *ngIf="form.get('Genre').dirty && form.get('Genre').hasError('required')">
              Genre is <strong>required</strong>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Plot" formControlName="Plot"  required name="Plot"/>
            <mat-error *ngIf="form.get('Plot').dirty && form.get('Plot').hasError('required')">
              Plot is <strong>required</strong>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Metacritic" formControlName="Metascore" required name="Metascore"/>
            <mat-error *ngIf="form.get('Metascore').dirty && form.get('Metascore').hasError('required')">
              Metacritic is <strong>required</strong>
            </mat-error>
            <mat-error *ngIf="form.get('Metascore').dirty && form.get('Metascore').hasError('pattern')">
              Released number must be <strong>1,2 or 3 digits</strong>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput placeholder="Poster" formControlName="Poster" required name="Poster"/>
            <mat-error *ngIf="form.get('Poster').dirty && form.get('Poster').hasError('required')">
              Poster is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </td>
        </tr>
    </table>

  </form>
</mat-dialog-content>


<mat-dialog-actions align="end">
  <button mat-button type="button" (click)="cancel()">Cancel</button>
  <button mat-button color="primary" type="submit" (click)="submit(form.value)" [disabled]="form.invalid">Save</button>
</mat-dialog-actions>
